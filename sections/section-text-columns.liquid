<!-- sections/section-text-columns.liquid -->
<section class="section color-background-1" style="background-color: {{ section.settings.bg_color }}; color: {{ section.settings.text_color }};">
  <div class="page-width">
    {% if section.settings.title != blank %}
      <div class="text-center mb-6">
        <h2 class="component-heading" style="font-weight: {{ section.settings.title_weight }}; font-size: {{ section.settings.title_size }}; color: {{ section.settings.title_color }};">
          {{ section.settings.title }}
        </h2>
      </div>
    {% endif %}

    <div class="grid grid--uniform grid--3-col-desktop grid--2-col-tablet grid--1-col-mobile">
      {% for block in section.blocks %}
        <div class="grid__item">
          <div class="card-wrapper" style="background-color: {{ section.settings.block_bg_color }}; color: {{ section.settings.block_text_color }};">
            <div class="card card--soft text-center px-4 py-5">
              {% if block.settings.image %}
                <img
                  src="{{ block.settings.image | image_url: width: 400 }}"
                  alt="{{ block.settings.image.alt | escape }}"
                  class="mb-4 mx-auto"
                  loading="lazy"
                  style="max-width: {{ block.settings.image_size }};"
                >
              {% endif %}
              <{{ block.settings.heading_tag }}
                class="component-heading mb-2"
                style="font-weight: {{ block.settings.title_weight }};">
                {{ block.settings.title }}
              </{{ block.settings.heading_tag }}>

              <p class="component-text" style="font-size: {{ block.settings.text_size }};">
                {{ block.settings.text }}
              </p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Triple image + texte",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Titre de la section",
      "default": "Ils nous ont fait confiance"
    },
    {
      "type": "select",
      "id": "title_size",
      "label": "Taille du titre principal",
      "default": "2.5rem",
      "options": [
        { "value": "2rem", "label": "Standard H2" },
        { "value": "2.5rem", "label": "Grand (comme H1)" },
        { "value": "3rem", "label": "Très grand" }
      ]
    },
    {
      "type": "select",
      "id": "title_weight",
      "label": "Poids du titre principal",
      "default": "600",
      "options": [
        { "value": "400", "label": "Normal" },
        { "value": "600", "label": "Semi-gras" },
        { "value": "700", "label": "Gras" }
      ]
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Couleur du titre principal",
      "default": "#1d2c3c"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Couleur de fond de la section",
      "default": "#f8f9fb"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Couleur du texte global",
      "default": "#1d2c3c"
    },
    {
      "type": "color",
      "id": "block_bg_color",
      "label": "Couleur de fond des blocs",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "block_text_color",
      "label": "Couleur du texte des blocs",
      "default": "#1d2c3c"
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Colonne",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Icône / Image"
        },
        {
          "type": "select",
          "id": "image_size",
          "label": "Taille de l’image",
          "default": "100px",
          "options": [
            { "value": "80px", "label": "Petite" },
            { "value": "100px", "label": "Standard" },
            { "value": "140px", "label": "Grande" },
            { "value": "180px", "label": "Très grande" }
          ]
        },
        {
          "type": "text",
          "id": "title",
          "label": "Titre du bloc",
          "default": "2 000 nez débouchés"
        },
        {
          "type": "select",
          "id": "heading_tag",
          "label": "Balise du titre",
          "default": "h3",
          "options": [
            { "value": "h2", "label": "H2" },
            { "value": "h3", "label": "H3" },
            { "value": "h4", "label": "H4" }
          ]
        },
        {
          "type": "select",
          "id": "title_weight",
          "label": "Poids du titre",
          "default": "600",
          "options": [
            { "value": "400", "label": "Normal" },
            { "value": "600", "label": "Semi-gras" },
            { "value": "700", "label": "Gras" }
          ]
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Texte du bloc",
          "default": "Et autant de respirations retrouvées."
        },
        {
          "type": "select",
          "id": "text_size",
          "label": "Taille du texte",
          "default": "1.2rem",
          "options": [
            { "value": "1rem", "label": "Petite" },
            { "value": "1.2rem", "label": "Standard" },
            { "value": "1.4rem", "label": "Grande" }
          ]
        }
      ]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "Triple image + texte",
      "category": "Contenu",
      "blocks": [
        {
          "type": "feature",
          "settings": {
            "title": "2 000 nez débouchés",
            "text": "Et autant de respirations retrouvées."
          }
        },
        {
          "type": "feature",
          "settings": {
            "title": "800 couples sauvés des ronflements",
            "text": "Grâce à un sommeil plus silencieux."
          }
        },
        {
          "type": "feature",
          "settings": {
            "title": "Économisez 730h de sommeil/an",
            "text": "Une vie sans bouchons de nez, c’est ça."
          }
        }
      ]
    }
  ]
}
{% endschema %}
